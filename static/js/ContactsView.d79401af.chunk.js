(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{112:function(t,e,n){t.exports={formStyle:"ContactForm_formStyle__13BJ1",inputStyle:"ContactForm_inputStyle__3zEtp"}},113:function(t,e,n){t.exports={itemContact:"ContactList_itemContact__2fZ9P",itemContactBtn:"ContactList_itemContactBtn__1o9gS"}},114:function(t,e,n){t.exports={inputFilter:"Filter_inputFilter__2HVL4"}},118:function(t,e,n){"use strict";n.r(e);var a=n(23),c=n(24),r=n(26),u=n(25),o=n(0),i=n(2),s=n(14),l=n(19),b=n(17),f=n.n(b),p=n(22),m=n(20),j=n.n(m),h=n(10),d=function(){return function(){var t=Object(p.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(h.h)()),t.prev=1,t.next=4,j.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(h.i)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(h.g)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(p.a)(f.a.mark((function e(n){var a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{contact:t},n(Object(h.b)()),e.prev=2,e.next=5,j.a.post("/contacts",t);case 5:a=e.sent,c=a.data,n(Object(h.c)(Object(l.a)({},c))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n(Object(h.a)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=Object(p.a)(f.a.mark((function e(n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(h.e)()),e.prev=1,e.next=4,j.a.delete("/contacts/".concat(t));case 4:a=e.sent,a.data,n(Object(h.f)(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(h.d)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},C=n(112),x=n.n(C),g=n(30),y=function(t){return t.contacts.loading},k=function(t){return t.contacts.filter},S=function(t){return t.contacts.items},_=Object(g.a)([S,k],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),w=Object(g.a)([S],(function(t){return t.map((function(t){return t.name}))})),F=n(47),N=n(1),L=function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),u=0;u<c;u++)r[u]=arguments[u];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handlerChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(i.a)({},a,c))},t.checkUniqueContact=function(e){return!t.props.name.find((function(t){return t===e}))},t.handleSubmit=function(e){e.preventDefault();var n=t.state.name;if(t.checkUniqueContact(n),""!==t.state.name)return t.checkUniqueContact(n)?(t.props.onSubmit(t.state),void t.reset()):void alert("'".concat(n," isalready in contacts'"));alert("Enter the name and number")},t.reset=function(){t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContact()}},{key:"render",value:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("form",{onSubmit:this.handleSubmit,className:x.a.formStyle,children:[Object(N.jsxs)("label",{children:["Name",Object(N.jsx)("input",{className:x.a.inputStyle,type:"text",name:"name",placeholder:"Enter name",value:this.state.name,onChange:this.handlerChange})]}),Object(N.jsxs)("label",{children:["Number",Object(N.jsx)("input",{className:x.a.inputStyle,type:"tel",name:"number",placeholder:"Enter phone namber",value:this.state.number,onChange:this.handlerChange})]}),Object(N.jsx)("button",{type:"submit",children:"Add contact"})]}),this.props.loadingConntacts&&Object(N.jsx)(F.a,{})]})}}]),n}(o.Component),B=Object(s.b)((function(t){return{loadingConntacts:y(t),name:w(t)}}),(function(t){return{fetchContact:function(){return t(d())},onSubmit:function(e){return t(O(e))}}}))(L),E=n(113),q=n.n(E),D=Object(s.b)((function(t){return{contacts:_(t)}}),(function(t){return{deleteContact:function(e){return t(v(e))}}}))((function(t){var e=t.contacts,n=t.deleteContact;return Object(N.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.name,c=t.number;return Object(N.jsxs)("li",{className:q.a.itemContact,children:[a,": ",c,Object(N.jsx)("button",{className:q.a.itemContactBtn,type:"button",onClick:function(){return n(e)},children:"Delete"})]},e)}))})})),J=n(114),U=n.n(J),A=Object(s.b)((function(t){return{value:k(t)}}),(function(t){return{onChange:function(e){return t(h.j(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(N.jsxs)("label",{children:["Find contacts by name",Object(N.jsx)("input",{className:U.a.inputFilter,type:"text",value:e,onChange:n})]})})),z=function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(B,{}),Object(N.jsx)(A,{}),Object(N.jsx)(D,{})]})}}]),n}(o.Component);e.default=z}}]);
//# sourceMappingURL=ContactsView.d79401af.chunk.js.map